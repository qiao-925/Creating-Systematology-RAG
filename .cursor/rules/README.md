# Cursor Rules 规则索引与使用指南

> 项目专用的 Cursor AI 规则集合，基于四层架构设计，提供规则索引、使用方式和扩展文档

> **规则来源**：实践经验提取，从已有工程实践中吸收

---
> 按照执行时刻分类，同时显示规则类型、功能分类和规则描述

### 1. 前置任务（任务开始前执行）

| 规则文件 | 规则类型 | 执行时刻 | 功能分类 | 规则描述 |
|---------|---------|---------|---------|---------|
| **前置-方案讨论-1.mdc** | Always | 前置 | 工作流规范 | 执行方案讨论工作流 - 方案讨论任务必须遵循的完整工作流 - 包含需求分析、方案设计、决策原则 - 用户要求讨论方案时，不要着急修改代码，必须充分讨论并输出方案文档 |

**统计**：1个规则（Always: 1个）

---

### 2. 任务中（任务执行过程中应用）

| 规则文件 | 规则类型 | 执行时刻 | 功能分类 | 规则描述 |
|---------|---------|---------|---------|---------|
| **任务中-代码规范-1.mdc** | Always | 任务中 | 代码规范 | 遵循代码规范 - Python代码风格与规范 |
| **任务中-文档规范-2.mdc** | Always | 任务中 | 文档规范 | 遵循文档规范 - 包含文件长度限制、标题序号规范、日期处理规范等通用规则 |
| **任务中-协作规范-3.mdc** | Always | 任务中 | 协作规范 | 遵循协作规范 - 人机协作要点 - 基于AGENTS.md |
| **任务中-测试工作流-4.mdc** | Always | 任务中 | 测试规范 | 执行测试工作流 - Agent测试工作流 - 包含测试工作流、Bug修复策略、自纠错机制 - 代码修改后必须运行单元测试验证 |
| **任务中-架构规范-5.mdc** | Auto Attached | 任务中 | 架构规范 | 遵循架构规范 - RAG系统架构规范与LlamaIndex使用指南 - 包含模块化设计原则 |
| **任务中-规则设计-6.mdc** | Agent Requested | 任务中 | 元规则设计 | 执行规则设计 - 规则设计或优化任务时必须遵循的设计原则 - 创建新规则、优化现有规则、评估规则系统时使用 |

**统计**：6个规则（Always: 4个，Auto Attached: 1个，Agent Requested: 1个）

---

### 3. 后置任务（任务完成后执行）

| 规则文件 | 规则类型 | 执行时刻 | 功能分类 | 规则描述 |
|---------|---------|---------|---------|---------|
| **后置-工作流-1.mdc** | Always | 后置 | 工作流规范 | 执行任务完成后工作流 - 任务完成后必须执行的工作流 - 任务日志记录和优化分析 - 所有Agent任务完成后必须执行这两个步骤 |
| **后置-规则校验-2.mdc** | Always | 后置 | 工作流规范 | 执行规则执行校验 - 任务完成后必须执行的规则执行校验和监控机制 - 确保规则被正确执行，防止规则因注意力分散而被忽略 |

**统计**：2个规则（Always: 2个）

---

---

**最后更新**: 2025-01-27  
**版本**: v3.1（拆分后置工作流规则）
