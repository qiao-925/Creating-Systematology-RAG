---
description: 后置规则 - agent任务日志生成 - 任务完成后生成日志的强制流程与检查清单
alwaysApply: true
---
# 后置规则 - agent任务日志生成

> 任务交付结束后立即执行的日志落地流程，适用于所有任务类型。

---

## 1. 触发条件
- 完成任务执行汇报且无新的实现需求。
- 用户确认“进入后置流程”或由 Agent 主动提示后得到同意。

---

## 2. 执行清单

### 2.1 准备阶段
- [ ] 日志存放在 `agent-task-log/` 目录。
- [ ] 文件名遵循 `YYYY-MM-DD-N_【task_type】任务名称-文档类型.md`：
  - `N` 为当日顺序号，从 1 开始递增。
  - `task_type` 取自 `agent-task-log/TASK_TYPES.md` 列表（小写英文，需与内容一致）。
  - 文档类型可使用“完成总结 / 详细过程 / 快速摘要 / 规则执行日志 / 任务优化分析”等中文描述。
- [ ] 顶部标题同步采用 `# YYYY-MM-DD 【task_type】任务名称-文档类型` 格式。

### 2.2 内容撰写
- [ ] 描述任务概述（目标、范围、背景），在元信息中注明 `【Task Type】`。
- [ ] 按时间列出关键步骤与决策，注明负责人或接口。
- [ ] 说明实施方法、关键技术或流程。
- [ ] 汇报测试执行情况与结果（命令、范围、结论）。
- [ ] 给出执行结果：完成度、交付物路径、遗留问题。
- [ ] 引用或摘要优化分析（链接 `后置规则 - 任务优化分析生成.mdc` 输出）。

### 2.3 提交与提示
- [ ] 复核命名、日期、标题编号符合文档规范。
- [ ] 在对话中简要汇报日志位置与要点。
- [ ] 如暂未执行（用户要求延期），记录原因与计划时间。

---

## 3. 禁止事项
- ❌ 在 `agent-task-log/` 之外创建日志。
- ❌ 省略 `【task_type】` 或使用未登记的类型。
- ❌ 以“任务简单”为由跳过记录。

---

## 4. 协作约定
- Agent 会在主要交付完成后询问是否进入后置流程；用户确认后执行本规则及后续规则。
- 若用户明确暂缓执行，Agent 需记录并等待下一次指令。
- 日志完成后继续执行 `后置规则 - 任务优化分析生成.mdc` 与 `后置规则 - 规则执行校验报告.mdc`。

---

## 5. 版本信息

- **最后更新**：2025-11-09
- **版本**：v2.1（补充 Task Type 命名规则）