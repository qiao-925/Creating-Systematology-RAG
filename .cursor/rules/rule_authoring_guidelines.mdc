---
description: "规则设计规范 - 设计或优化规则的指南"
alwaysApply: false
manualTrigger: true
priority: 1
---
# 规则设计规范

> 适用于创建、优化或评估规则体系的任务。目标是产出简洁、清晰、可执行且易维护的规则。

---

## 1. 适用范围
- Agent Requested 规则：当你明确要求“设计/优化规则”时加载本规范。
- 包含新建规则、拆分合并、制定触发方式、撰写说明文档等场景。

---

## 2. 触发条件
- 需要新增、拆分、合并或调整规则时。
- 需要为规则补充触发方式、命令映射或更新 README 记录时。

---

## 3. 必须执行的命令链
- `/design-rule`：生成规则模板、方案对比与检查清单。
- 根据命令输出完善规则正文与元数据，确保一次成型。

---

## 4. 基线约束
- 单条规则 ≤ 500 行，核心要求放在前 50 行。
- 标题从 H2 起带编号；关键信息使用清单式表达。
- 元数据完整：描述、触发方式、`globs`（若为 Auto）。
- 冗长背景/示例移至 README 或日志，仅在规则中引用。
- 规则变更需同步更新相关文档、日志与校验规则。

---

## 5. 校验与维护
- 使用 `/design-rule` 的检查清单核对规则类型、触发方式与适用范围。
- 保证输出物（方案文档、日志、规则校验记录）同步更新。
- 规则失效时优先审查描述与触发方式是否准确。
- 在任务日志中记录规则变更原因与影响范围。

---

## 6. 参考资料
- `.cursor/rules/README.md`
- `documentation_guidelines.mdc`
- `task_closure_guidelines.mdc`
- 命令目录：`.cursor/commands/rule_design/`

---

## 8. 版本信息

- **最后更新**：2025-11-09
- **版本**：v2.0（精简为清单化模板并对齐官方长度建议）
