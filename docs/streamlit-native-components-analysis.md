# Streamlit åŸç”Ÿç»„ä»¶åˆ†æä¸æ›¿æ¢æ–¹æ¡ˆ

> åˆ†æ Streamlit åŸç”Ÿç»„ä»¶ï¼Œè¯„ä¼°é¡¹ç›®ä¸­è‡ªå®šä¹‰ç»„ä»¶çš„æ›¿æ¢å¯è¡Œæ€§ï¼Œå‡å°‘å‰ç«¯å¤æ‚åº¦

**åˆ›å»ºæ—¥æœŸ**: 2026-01-03  
**ç›®æ ‡**: å°†è‡ªå®šä¹‰ç»„ä»¶æ›¿æ¢ä¸º Streamlit åŸç”Ÿç»„ä»¶ï¼Œç®€åŒ–å‰ç«¯ä»£ç 

---

## 1. Streamlit åŸç”Ÿç»„ä»¶æ¸…å•

### 1.1 æ–‡æœ¬æ˜¾ç¤ºç»„ä»¶

| ç»„ä»¶ | åŠŸèƒ½ | é¡¹ç›®ä½¿ç”¨æƒ…å†µ |
|------|------|------------|
| `st.title()` | ä¸»æ ‡é¢˜ | âœ… å·²ä½¿ç”¨ |
| `st.header()` | ç« èŠ‚æ ‡é¢˜ | âœ… å·²ä½¿ç”¨ |
| `st.subheader()` | å­ç« èŠ‚æ ‡é¢˜ | âœ… å·²ä½¿ç”¨ |
| `st.text()` | æ™®é€šæ–‡æœ¬ | âœ… å·²ä½¿ç”¨ |
| `st.markdown()` | Markdown æ–‡æœ¬ | âœ… å·²ä½¿ç”¨ï¼ˆä½†å¤§é‡ä½¿ç”¨ `unsafe_allow_html`ï¼‰ |
| `st.caption()` | å°å­—è¯´æ˜ | âœ… å·²ä½¿ç”¨ |
| `st.code()` | ä»£ç å— | âœ… å·²ä½¿ç”¨ |
| `st.latex()` | LaTeX å…¬å¼ | âŒ æœªä½¿ç”¨ |

### 1.2 æ•°æ®å±•ç¤ºç»„ä»¶

| ç»„ä»¶ | åŠŸèƒ½ | é¡¹ç›®ä½¿ç”¨æƒ…å†µ |
|------|------|------------|
| `st.dataframe()` | äº¤äº’å¼è¡¨æ ¼ | âŒ æœªä½¿ç”¨ |
| `st.table()` | é™æ€è¡¨æ ¼ | âŒ æœªä½¿ç”¨ |
| `st.metric()` | æŒ‡æ ‡å¡ç‰‡ | âŒ æœªä½¿ç”¨ |
| `st.json()` | JSON å±•ç¤º | âŒ æœªä½¿ç”¨ |

### 1.3 äº¤äº’å¼è¾“å…¥ç»„ä»¶

| ç»„ä»¶ | åŠŸèƒ½ | é¡¹ç›®ä½¿ç”¨æƒ…å†µ |
|------|------|------------|
| `st.button()` | æŒ‰é’® | âœ… å·²ä½¿ç”¨ |
| `st.checkbox()` | å¤é€‰æ¡† | âœ… å·²ä½¿ç”¨ |
| `st.radio()` | å•é€‰æŒ‰é’®ç»„ | âŒ æœªä½¿ç”¨ |
| `st.selectbox()` | ä¸‹æ‹‰é€‰æ‹©æ¡† | âŒ æœªä½¿ç”¨ |
| `st.multiselect()` | å¤šé€‰ä¸‹æ‹‰æ¡† | âŒ æœªä½¿ç”¨ |
| `st.slider()` | æ»‘åŠ¨æ¡ | âŒ æœªä½¿ç”¨ |
| `st.text_input()` | å•è¡Œæ–‡æœ¬è¾“å…¥ | âŒ æœªä½¿ç”¨ï¼ˆä½¿ç”¨ `st.text_area()`ï¼‰ |
| `st.text_area()` | å¤šè¡Œæ–‡æœ¬è¾“å…¥ | âœ… å·²ä½¿ç”¨ï¼ˆä½†å¤§é‡è‡ªå®šä¹‰æ ·å¼ï¼‰ |
| `st.number_input()` | æ•°å­—è¾“å…¥ | âŒ æœªä½¿ç”¨ |
| `st.date_input()` | æ—¥æœŸé€‰æ‹©å™¨ | âŒ æœªä½¿ç”¨ |
| `st.time_input()` | æ—¶é—´é€‰æ‹©å™¨ | âŒ æœªä½¿ç”¨ |
| `st.file_uploader()` | æ–‡ä»¶ä¸Šä¼  | âŒ æœªä½¿ç”¨ |
| `st.color_picker()` | é¢œè‰²é€‰æ‹©å™¨ | âŒ æœªä½¿ç”¨ |

### 1.4 èŠå¤©ç»„ä»¶ï¼ˆStreamlit 1.28+ï¼‰

| ç»„ä»¶ | åŠŸèƒ½ | é¡¹ç›®ä½¿ç”¨æƒ…å†µ |
|------|------|------------|
| `st.chat_message()` | èŠå¤©æ¶ˆæ¯å®¹å™¨ | âœ… å·²ä½¿ç”¨ |
| `st.chat_input()` | èŠå¤©è¾“å…¥æ¡† | âŒ **æœªä½¿ç”¨ï¼ˆå…³é”®æ›¿æ¢ç›®æ ‡ï¼‰** |

**æ³¨æ„**: `st.chat_input()` æ˜¯ Streamlit 1.28+ ç‰ˆæœ¬æ–°å¢çš„åŸç”ŸèŠå¤©è¾“å…¥ç»„ä»¶ï¼Œæ”¯æŒï¼š
- è‡ªåŠ¨å¤šè¡Œè¾“å…¥
- Enter å‘é€ï¼ŒShift+Enter æ¢è¡Œ
- å›ºå®šåœ¨åº•éƒ¨çš„å¸ƒå±€
- åŸç”Ÿæ ·å¼ï¼Œæ— éœ€è‡ªå®šä¹‰ CSS

### 1.5 å¸ƒå±€ç»„ä»¶

| ç»„ä»¶ | åŠŸèƒ½ | é¡¹ç›®ä½¿ç”¨æƒ…å†µ |
|------|------|------------|
| `st.columns()` | åˆ†æ å¸ƒå±€ | âœ… å·²ä½¿ç”¨ |
| `st.container()` | å®¹å™¨ | âœ… å·²ä½¿ç”¨ |
| `st.expander()` | å¯æŠ˜å åŒºåŸŸ | âœ… å·²ä½¿ç”¨ |
| `st.tabs()` | é€‰é¡¹å¡ | âœ… å·²ä½¿ç”¨ |
| `st.sidebar` | ä¾§è¾¹æ  | âœ… å·²ä½¿ç”¨ |
| `st.columns()` å“åº”å¼ | å“åº”å¼å¸ƒå±€ | âš ï¸ éƒ¨åˆ†ä½¿ç”¨ |

### 1.6 å¯¹è¯æ¡†ç»„ä»¶ï¼ˆStreamlit 1.29+ï¼‰

| ç»„ä»¶ | åŠŸèƒ½ | é¡¹ç›®ä½¿ç”¨æƒ…å†µ |
|------|------|------------|
| `@st.dialog()` | å¯¹è¯æ¡†è£…é¥°å™¨ | âœ… å·²ä½¿ç”¨ |

### 1.7 åª’ä½“ç»„ä»¶

| ç»„ä»¶ | åŠŸèƒ½ | é¡¹ç›®ä½¿ç”¨æƒ…å†µ |
|------|------|------------|
| `st.image()` | å›¾ç‰‡æ˜¾ç¤º | âŒ æœªä½¿ç”¨ |
| `st.audio()` | éŸ³é¢‘æ’­æ”¾ | âŒ æœªä½¿ç”¨ |
| `st.video()` | è§†é¢‘æ’­æ”¾ | âŒ æœªä½¿ç”¨ |

### 1.8 æ–‡ä»¶æ“ä½œç»„ä»¶

| ç»„ä»¶ | åŠŸèƒ½ | é¡¹ç›®ä½¿ç”¨æƒ…å†µ |
|------|------|------------|
| `st.download_button()` | ä¸‹è½½æŒ‰é’® | âœ… å·²ä½¿ç”¨ |
| `st.file_uploader()` | æ–‡ä»¶ä¸Šä¼  | âŒ æœªä½¿ç”¨ |

### 1.9 çŠ¶æ€ç»„ä»¶

| ç»„ä»¶ | åŠŸèƒ½ | é¡¹ç›®ä½¿ç”¨æƒ…å†µ |
|------|------|------------|
| `st.spinner()` | åŠ è½½åŠ¨ç”» | âœ… å·²ä½¿ç”¨ |
| `st.progress()` | è¿›åº¦æ¡ | âŒ æœªä½¿ç”¨ |
| `st.status()` | çŠ¶æ€å®¹å™¨ | âŒ æœªä½¿ç”¨ |
| `st.balloons()` | åº†ç¥åŠ¨ç”» | âŒ æœªä½¿ç”¨ |
| `st.snow()` | é›ªèŠ±åŠ¨ç”» | âŒ æœªä½¿ç”¨ |
| `st.error()` | é”™è¯¯æ¶ˆæ¯ | âœ… å·²ä½¿ç”¨ |
| `st.warning()` | è­¦å‘Šæ¶ˆæ¯ | âœ… å·²ä½¿ç”¨ |
| `st.info()` | ä¿¡æ¯æç¤º | âœ… å·²ä½¿ç”¨ |
| `st.success()` | æˆåŠŸæç¤º | âœ… å·²ä½¿ç”¨ |

### 1.10 å›¾è¡¨ç»„ä»¶

| ç»„ä»¶ | åŠŸèƒ½ | é¡¹ç›®ä½¿ç”¨æƒ…å†µ |
|------|------|------------|
| `st.line_chart()` | æŠ˜çº¿å›¾ | âŒ æœªä½¿ç”¨ |
| `st.bar_chart()` | æŸ±çŠ¶å›¾ | âŒ æœªä½¿ç”¨ |
| `st.area_chart()` | é¢ç§¯å›¾ | âŒ æœªä½¿ç”¨ |
| `st.plotly_chart()` | Plotly å›¾è¡¨ | âŒ æœªä½¿ç”¨ |
| `st.altair_chart()` | Altair å›¾è¡¨ | âŒ æœªä½¿ç”¨ |
| `st.map()` | åœ°å›¾ | âŒ æœªä½¿ç”¨ |

---

## 2. é¡¹ç›®ä¸­è‡ªå®šä¹‰ç»„ä»¶åˆ†æ

### 2.1 é«˜å¤æ‚åº¦è‡ªå®šä¹‰ç»„ä»¶

#### 2.1.1 `chat_input.py` - èŠå¤©è¾“å…¥ç»„ä»¶

**å½“å‰å®ç°**ï¼š
- æ–‡ä»¶è¡Œæ•°ï¼š307 è¡Œ
- è‡ªå®šä¹‰å†…å®¹ï¼š
  - å¤§é‡å†…è” CSSï¼ˆ~150 è¡Œï¼‰
  - JavaScript è‡ªåŠ¨é«˜åº¦è°ƒæ•´ï¼ˆ~50 è¡Œï¼‰
  - JavaScript é”®ç›˜å¿«æ·é”®å¤„ç†ï¼ˆEnter å‘é€ï¼‰
  - å›ºå®šå®šä½å®¹å™¨ï¼ˆCSSï¼‰
  - å­—ç¬¦è®¡æ•°æ˜¾ç¤ºï¼ˆè‡ªå®šä¹‰ HTMLï¼‰
  - è‡ªå®šä¹‰æ ·å¼ï¼ˆåœ†è§’ã€é¢œè‰²ã€å­—ä½“ç­‰ï¼‰

**åŠŸèƒ½éœ€æ±‚**ï¼š
1. âœ… å¤šè¡Œæ–‡æœ¬è¾“å…¥
2. âœ… è‡ªåŠ¨é«˜åº¦è°ƒæ•´
3. âœ… Enter å‘é€ï¼ŒShift+Enter æ¢è¡Œ
4. âœ… å­—ç¬¦è®¡æ•°ï¼ˆ0/2000ï¼‰
5. âœ… å›ºå®šåœ¨åº•éƒ¨ï¼ˆæœ‰å¯¹è¯å†å²æ—¶ï¼‰
6. âœ… è‡ªå®šä¹‰æ ·å¼ï¼ˆClaude é£æ ¼ï¼‰

**æ›¿æ¢æ–¹æ¡ˆ**ï¼š
- **æ ¸å¿ƒæ›¿æ¢**: ä½¿ç”¨ `st.chat_input()` æ›¿ä»£è‡ªå®šä¹‰å®ç°
- **ä¿ç•™åŠŸèƒ½**: å­—ç¬¦è®¡æ•°ï¼ˆå¯é€šè¿‡ `st.caption()` æ˜¾ç¤ºï¼‰
- **ç®€åŒ–æ ·å¼**: é€šè¿‡ `config.toml` é…ç½®åŸºç¡€æ ·å¼ï¼Œå‡å°‘è‡ªå®šä¹‰ CSS

**æ›¿æ¢ä¼˜å…ˆçº§**: â­â­â­â­â­ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰

#### 2.1.2 `styles.py` - æ ·å¼ç³»ç»Ÿ

**å½“å‰å®ç°**ï¼š
- æ–‡ä»¶è¡Œæ•°ï¼š886 è¡Œ
- è‡ªå®šä¹‰å†…å®¹ï¼š
  - å®Œæ•´çš„ CSS è®¾è®¡ç³»ç»Ÿ
  - å…¨å±€æ ·å¼é‡ç½®
  - ç»„ä»¶æ ·å¼è¦†ç›–
  - å“åº”å¼è®¾è®¡

**åŠŸèƒ½éœ€æ±‚**ï¼š
1. âœ… Claude é£æ ¼è®¾è®¡ç³»ç»Ÿ
2. âœ… ç»Ÿä¸€çš„é¢œè‰²ç³»ç»Ÿ
3. âœ… ç»„ä»¶æ ·å¼å®šåˆ¶
4. âœ… å“åº”å¼å¸ƒå±€

**æ›¿æ¢æ–¹æ¡ˆ**ï¼š
- **éƒ¨åˆ†æ›¿æ¢**: ä½¿ç”¨ `config.toml` é…ç½®åŸºç¡€ä¸»é¢˜ï¼ˆé¢œè‰²ã€å­—ä½“ï¼‰
- **ä¿ç•™å¿…è¦æ ·å¼**: ä¿ç•™å¤æ‚ç»„ä»¶çš„æ ·å¼è¦†ç›–
- **ç®€åŒ–ç­–ç•¥**: é€æ­¥ç§»é™¤å¯é€šè¿‡ä¸»é¢˜é…ç½®çš„æ ·å¼

**æ›¿æ¢ä¼˜å…ˆçº§**: â­â­â­ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

#### 2.1.3 `sources_panel.py` - å¼•ç”¨æ¥æºé¢æ¿

**å½“å‰å®ç°**ï¼š
- æ–‡ä»¶è¡Œæ•°ï¼š94 è¡Œ
- è‡ªå®šä¹‰å†…å®¹ï¼š
  - è‡ªå®šä¹‰ HTML/CSS å¡ç‰‡æ ·å¼
  - å†…è”æ ·å¼ï¼ˆ`unsafe_allow_html`ï¼‰

**åŠŸèƒ½éœ€æ±‚**ï¼š
1. âœ… å¼•ç”¨æ¥æºå¡ç‰‡æ˜¾ç¤º
2. âœ… æ–‡ä»¶æŸ¥çœ‹æŒ‰é’®
3. âœ… æ–‡æœ¬å†…å®¹é¢„è§ˆï¼ˆå¯å±•å¼€ï¼‰

**æ›¿æ¢æ–¹æ¡ˆ**ï¼š
- **ä½¿ç”¨åŸç”Ÿç»„ä»¶**: `st.container()` + `st.expander()` + `st.button()`
- **ç®€åŒ–æ ·å¼**: ä½¿ç”¨ Streamlit åŸç”Ÿæ ·å¼ï¼Œå‡å°‘è‡ªå®šä¹‰ CSS

**æ›¿æ¢ä¼˜å…ˆçº§**: â­â­â­â­ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

#### 2.1.4 `sidebar.py` - ä¾§è¾¹æ åº•éƒ¨å·¥å…·æ 

**å½“å‰å®ç°**ï¼š
- è‡ªå®šä¹‰å†…å®¹ï¼š
  - JavaScript åŠ¨æ€å®½åº¦åŒæ­¥ï¼ˆResizeObserverï¼‰
  - è‡ªå®šä¹‰ HTML å®¹å™¨

**åŠŸèƒ½éœ€æ±‚**ï¼š
1. âœ… å›ºå®šåœ¨ä¾§è¾¹æ åº•éƒ¨
2. âœ… æŒ‰é’®å¸ƒå±€ï¼ˆ3åˆ—ï¼‰
3. âœ… åŠ¨æ€å®½åº¦åŒæ­¥

**æ›¿æ¢æ–¹æ¡ˆ**ï¼š
- **ç®€åŒ–å®ç°**: ä½¿ç”¨ `st.columns()` å¸ƒå±€ï¼Œç§»é™¤ JavaScript
- **å›ºå®šå®šä½**: é€šè¿‡ CSS å®ç°ï¼ˆç®€åŒ–ç‰ˆï¼‰

**æ›¿æ¢ä¼˜å…ˆçº§**: â­â­â­ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

#### 2.1.5 `quick_start.py` - å¿«é€Ÿå¼€å§‹ç•Œé¢

**å½“å‰å®ç°**ï¼š
- è‡ªå®šä¹‰å†…å®¹ï¼š
  - è‡ªå®šä¹‰ CSS flexbox å¸ƒå±€
  - å†…è”æ ·å¼

**åŠŸèƒ½éœ€æ±‚**ï¼š
1. âœ… å±…ä¸­å¸ƒå±€
2. âœ… é—®é¢˜æŒ‰é’®ç½‘æ ¼ï¼ˆ2åˆ—ï¼‰
3. âœ… è¾“å…¥æ¡†å±…ä¸­

**æ›¿æ¢æ–¹æ¡ˆ**ï¼š
- **ä½¿ç”¨åŸç”Ÿå¸ƒå±€**: `st.columns()` å®ç°å±…ä¸­
- **ç®€åŒ–æ ·å¼**: ç§»é™¤è‡ªå®šä¹‰ CSS

**æ›¿æ¢ä¼˜å…ˆçº§**: â­â­â­â­ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

### 2.2 ä¸­ç­‰å¤æ‚åº¦è‡ªå®šä¹‰ç»„ä»¶

#### 2.2.1 `chat_display.py` - å¯¹è¯æ˜¾ç¤º

**å½“å‰å®ç°**ï¼š
- å·²ä½¿ç”¨ `st.chat_message()` âœ…
- å°‘é‡è‡ªå®šä¹‰ HTMLï¼ˆæ ‡é¢˜å±…ä¸­ï¼‰

**æ›¿æ¢æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨ `st.header()` æˆ– `st.subheader()` æ›¿ä»£è‡ªå®šä¹‰ HTML

**æ›¿æ¢ä¼˜å…ˆçº§**: â­â­ï¼ˆä½ä¼˜å…ˆçº§ï¼‰

#### 2.2.2 `file_viewer.py` - æ–‡ä»¶æŸ¥çœ‹å™¨

**å½“å‰å®ç°**ï¼š
- å·²ä½¿ç”¨ `@st.dialog()` âœ…
- PDF æ˜¾ç¤ºä½¿ç”¨è‡ªå®šä¹‰ HTMLï¼ˆiframeï¼‰

**æ›¿æ¢æ–¹æ¡ˆ**ï¼š
- PDF æ˜¾ç¤ºä¿ç•™è‡ªå®šä¹‰å®ç°ï¼ˆStreamlit æ— åŸç”Ÿ PDF æŸ¥çœ‹å™¨ï¼‰

**æ›¿æ¢ä¼˜å…ˆçº§**: â­ï¼ˆä¿ç•™ï¼‰

---

## 3. æ›¿æ¢æ–¹æ¡ˆè¯¦ç»†è®¾è®¡

### 3.1 æ–¹æ¡ˆ Aï¼šå®Œå…¨æ›¿æ¢ `chat_input.py` ä¸º `st.chat_input()`

**å®æ–½æ­¥éª¤**ï¼š

1. **æ£€æŸ¥ Streamlit ç‰ˆæœ¬**
   ```python
   import streamlit as st
   print(st.__version__)  # éœ€è¦ >= 1.28.0
   ```

2. **æ›¿æ¢æ ¸å¿ƒå®ç°**
   ```python
   # æ—§å®ç°ï¼ˆchat_input.pyï¼‰
   def deepseek_style_chat_input(...):
       # 307 è¡Œè‡ªå®šä¹‰ä»£ç 
       ...
   
   # æ–°å®ç°ï¼ˆç®€åŒ–ç‰ˆï¼‰
   def simple_chat_input(key: str = "chat_input") -> Optional[str]:
       """ä½¿ç”¨ st.chat_input() çš„ç®€åŒ–å®ç°"""
       user_input = st.chat_input("ç»™ç³»ç»Ÿå‘é€æ¶ˆæ¯", key=key)
       return user_input
   ```

3. **æ·»åŠ å­—ç¬¦è®¡æ•°ï¼ˆå¯é€‰ï¼‰**
   ```python
   user_input = st.chat_input("ç»™ç³»ç»Ÿå‘é€æ¶ˆæ¯", key=key)
   if user_input:
       char_count = len(user_input)
       st.caption(f"{char_count}/2000")
   ```

4. **ç§»é™¤è‡ªå®šä¹‰ CSS/JS**
   - åˆ é™¤ `_inject_chat_input_assets()` å‡½æ•°
   - åˆ é™¤æ‰€æœ‰å†…è”æ ·å¼å’Œè„šæœ¬

**é¢„æœŸæ•ˆæœ**ï¼š
- ä»£ç è¡Œæ•°ï¼š307 è¡Œ â†’ ~20 è¡Œï¼ˆå‡å°‘ 93%ï¼‰
- ç§»é™¤æ‰€æœ‰ JavaScript ä»£ç 
- ç§»é™¤æ‰€æœ‰è‡ªå®šä¹‰ CSS
- ä¿æŒæ ¸å¿ƒåŠŸèƒ½ï¼ˆå¤šè¡Œè¾“å…¥ã€Enter å‘é€ï¼‰

**é£é™©**ï¼š
- å›ºå®šå®šä½åŠŸèƒ½å¯èƒ½ä¸¢å¤±ï¼ˆéœ€è¦éªŒè¯ `st.chat_input()` æ˜¯å¦æ”¯æŒï¼‰
- å­—ç¬¦è®¡æ•°éœ€è¦é¢å¤–å®ç°
- è‡ªå®šä¹‰æ ·å¼å¯èƒ½ä¸¢å¤±

### 3.2 æ–¹æ¡ˆ Bï¼šç®€åŒ– `sources_panel.py` ä½¿ç”¨åŸç”Ÿç»„ä»¶

**å®æ–½æ­¥éª¤**ï¼š

1. **æ›¿æ¢å¡ç‰‡æ ·å¼**
   ```python
   # æ—§å®ç°
   st.markdown(f'<div style="...">', unsafe_allow_html=True)
   
   # æ–°å®ç°
   with st.container():
       st.markdown(f"**[{citation_num}]** {title}")
       if st.button("ğŸ“– æŸ¥çœ‹", key=dialog_key):
           ...
   ```

2. **ä½¿ç”¨ `st.expander()` æ›¿ä»£è‡ªå®šä¹‰å±•å¼€**
   ```python
   # æ—§å®ç°
   if len(text) > 200:
       with st.expander("æŸ¥çœ‹å®Œæ•´å†…å®¹"):
           st.text(text)
       st.caption(text[:200] + "...")
   
   # æ–°å®ç°ï¼ˆæ›´ç®€æ´ï¼‰
   with st.expander(f"æŸ¥çœ‹å®Œæ•´å†…å®¹ ({len(text)} å­—ç¬¦)"):
       st.text(text)
   st.caption(text[:200] + "..." if len(text) > 200 else text)
   ```

**é¢„æœŸæ•ˆæœ**ï¼š
- ä»£ç è¡Œæ•°ï¼š94 è¡Œ â†’ ~60 è¡Œï¼ˆå‡å°‘ 36%ï¼‰
- ç§»é™¤æ‰€æœ‰ `unsafe_allow_html`
- ä½¿ç”¨åŸç”Ÿç»„ä»¶æ ·å¼

### 3.3 æ–¹æ¡ˆ Cï¼šç®€åŒ– `quick_start.py` å¸ƒå±€

**å®æ–½æ­¥éª¤**ï¼š

1. **ç§»é™¤è‡ªå®šä¹‰ CSS**
   ```python
   # æ—§å®ç°
   st.markdown("""
   <style>
   .quick-start-container { ... }
   </style>
   <div class="quick-start-container">
   """, unsafe_allow_html=True)
   
   # æ–°å®ç°
   # ç›´æ¥ä½¿ç”¨ st.columns() å±…ä¸­ï¼Œæ— éœ€è‡ªå®šä¹‰ CSS
   left_spacer, center_col, right_spacer = create_centered_columns()
   ```

2. **ç®€åŒ–å¸ƒå±€ä»£ç **
   - ç§»é™¤æ‰€æœ‰ `unsafe_allow_html`
   - ä½¿ç”¨åŸç”Ÿ Streamlit ç»„ä»¶

**é¢„æœŸæ•ˆæœ**ï¼š
- ä»£ç è¡Œæ•°ï¼š62 è¡Œ â†’ ~45 è¡Œï¼ˆå‡å°‘ 27%ï¼‰
- ç§»é™¤è‡ªå®šä¹‰ CSS

### 3.4 æ–¹æ¡ˆ Dï¼šç®€åŒ– `sidebar.py` åº•éƒ¨å·¥å…·æ 

**å®æ–½æ­¥éª¤**ï¼š

1. **ç§»é™¤ JavaScript**
   ```python
   # æ—§å®ç°
   st.markdown("""
   <script>
   function updateFooterWidth() { ... }
   </script>
   """, unsafe_allow_html=True)
   
   # æ–°å®ç°
   # ç›´æ¥ä½¿ç”¨ st.columns()ï¼Œæ— éœ€ JavaScript
   col1, col2, col3 = st.columns([1, 1, 1])
   ```

2. **ç®€åŒ–å›ºå®šå®šä½**
   - å¦‚æœä¸éœ€è¦å›ºå®šå®šä½ï¼Œç›´æ¥ç§»é™¤
   - å¦‚æœéœ€è¦ï¼Œä½¿ç”¨ç®€åŒ–çš„ CSSï¼ˆä¸ä¾èµ– JavaScriptï¼‰

**é¢„æœŸæ•ˆæœ**ï¼š
- ä»£ç è¡Œæ•°ï¼š110 è¡Œ â†’ ~40 è¡Œï¼ˆå‡å°‘ 64%ï¼‰
- ç§»é™¤æ‰€æœ‰ JavaScript

---

## 4. æ›¿æ¢ä¼˜å…ˆçº§ä¸å®æ–½è®¡åˆ’

### 4.1 ä¼˜å…ˆçº§æ’åº

| ä¼˜å…ˆçº§ | ç»„ä»¶ | å¤æ‚åº¦ | é¢„æœŸæ”¶ç›Š | é£é™© |
|--------|------|--------|---------|------|
| â­â­â­â­â­ | `chat_input.py` | é«˜ | æé«˜ï¼ˆå‡å°‘ 93% ä»£ç ï¼‰ | ä¸­ï¼ˆéœ€è¦éªŒè¯åŠŸèƒ½ï¼‰ |
| â­â­â­â­ | `sources_panel.py` | ä¸­ | é«˜ï¼ˆå‡å°‘ 36% ä»£ç ï¼‰ | ä½ |
| â­â­â­â­ | `quick_start.py` | ä¸­ | ä¸­ï¼ˆå‡å°‘ 27% ä»£ç ï¼‰ | ä½ |
| â­â­â­ | `sidebar.py` | ä¸­ | ä¸­ï¼ˆå‡å°‘ 64% ä»£ç ï¼‰ | ä½ |
| â­â­â­ | `styles.py` | é«˜ | ä¸­ï¼ˆé€æ­¥ç®€åŒ–ï¼‰ | ä¸­ï¼ˆéœ€è¦ä¿ç•™éƒ¨åˆ†æ ·å¼ï¼‰ |
| â­â­ | `chat_display.py` | ä½ | ä½ï¼ˆå°‘é‡ä¼˜åŒ–ï¼‰ | ä½ |

### 4.2 åˆ†é˜¶æ®µå®æ–½è®¡åˆ’

#### é˜¶æ®µ 1ï¼šå¿«é€Ÿæ”¶ç›Šï¼ˆ1-2 å¤©ï¼‰

**ç›®æ ‡**: æ›¿æ¢ä¸­ç­‰å¤æ‚åº¦çš„ç»„ä»¶ï¼Œå¿«é€Ÿå‡å°‘ä»£ç é‡

1. âœ… æ›¿æ¢ `sources_panel.py`ï¼ˆä½¿ç”¨åŸç”Ÿç»„ä»¶ï¼‰
2. âœ… æ›¿æ¢ `quick_start.py`ï¼ˆç®€åŒ–å¸ƒå±€ï¼‰
3. âœ… ç®€åŒ– `sidebar.py`ï¼ˆç§»é™¤ JavaScriptï¼‰

**é¢„æœŸæˆæœ**ï¼š
- å‡å°‘ä»£ç ï¼š~200 è¡Œ
- ç§»é™¤ JavaScriptï¼š~100 è¡Œ
- ç§»é™¤è‡ªå®šä¹‰ CSSï¼š~50 è¡Œ

#### é˜¶æ®µ 2ï¼šæ ¸å¿ƒæ›¿æ¢ï¼ˆ2-3 å¤©ï¼‰

**ç›®æ ‡**: æ›¿æ¢æœ€å¤æ‚çš„ `chat_input.py`

1. âœ… éªŒè¯ Streamlit ç‰ˆæœ¬ï¼ˆéœ€è¦ >= 1.28.0ï¼‰
2. âœ… æµ‹è¯• `st.chat_input()` åŠŸèƒ½
3. âœ… å®ç°æ›¿æ¢æ–¹æ¡ˆ
4. âœ… æ·»åŠ å­—ç¬¦è®¡æ•°ï¼ˆå¦‚éœ€è¦ï¼‰
5. âœ… æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

**é¢„æœŸæˆæœ**ï¼š
- å‡å°‘ä»£ç ï¼š~280 è¡Œ
- ç§»é™¤ JavaScriptï¼š~50 è¡Œ
- ç§»é™¤è‡ªå®šä¹‰ CSSï¼š~150 è¡Œ

#### é˜¶æ®µ 3ï¼šæ ·å¼ä¼˜åŒ–ï¼ˆ1-2 å¤©ï¼‰

**ç›®æ ‡**: ç®€åŒ–æ ·å¼ç³»ç»Ÿ

1. âœ… ä½¿ç”¨ `config.toml` é…ç½®åŸºç¡€ä¸»é¢˜
2. âœ… ç§»é™¤å¯é€šè¿‡ä¸»é¢˜é…ç½®çš„æ ·å¼
3. âœ… ä¿ç•™å¿…è¦çš„æ ·å¼è¦†ç›–

**é¢„æœŸæˆæœ**ï¼š
- å‡å°‘ CSSï¼š~200 è¡Œï¼ˆä¼°è®¡ï¼‰
- æé«˜å¯ç»´æŠ¤æ€§

---

## 5. é£é™©è¯„ä¼°ä¸åº”å¯¹

### 5.1 åŠŸèƒ½é£é™©

**é£é™©**: `st.chat_input()` å¯èƒ½ä¸æ”¯æŒå›ºå®šå®šä½

**åº”å¯¹**ï¼š
- å…ˆéªŒè¯åŠŸèƒ½ï¼Œç¡®è®¤æ˜¯å¦æ”¯æŒå›ºå®šå®šä½
- å¦‚æœä¸æ”¯æŒï¼Œè€ƒè™‘ï¼š
  1. ä½¿ç”¨ CSS å®ç°å›ºå®šå®šä½ï¼ˆç®€åŒ–ç‰ˆï¼‰
  2. æ¥å—éå›ºå®šå®šä½ï¼ˆç”¨æˆ·ä½“éªŒå¯èƒ½ç•¥é™ï¼‰
  3. ä¿ç•™éƒ¨åˆ†è‡ªå®šä¹‰å®ç°ï¼ˆæ··åˆæ–¹æ¡ˆï¼‰

### 5.2 æ ·å¼é£é™©

**é£é™©**: æ›¿æ¢åæ ·å¼å¯èƒ½ä¸å¦‚å½“å‰ç¾è§‚

**åº”å¯¹**ï¼š
- ä½¿ç”¨ `config.toml` é…ç½®ä¸»é¢˜ï¼Œå°½é‡æ¥è¿‘å½“å‰æ ·å¼
- ä¿ç•™å¿…è¦çš„æ ·å¼è¦†ç›–ï¼ˆæœ€å°åŒ–ï¼‰
- æ¥å—åŸç”Ÿæ ·å¼çš„å·®å¼‚ï¼ˆä¼˜å…ˆè€ƒè™‘å¯ç»´æŠ¤æ€§ï¼‰

### 5.3 å…¼å®¹æ€§é£é™©

**é£é™©**: Streamlit ç‰ˆæœ¬è¦æ±‚ï¼ˆéœ€è¦ >= 1.28.0ï¼‰

**åº”å¯¹**ï¼š
- æ£€æŸ¥å½“å‰ Streamlit ç‰ˆæœ¬
- å¦‚ç‰ˆæœ¬ä¸è¶³ï¼Œå…ˆå‡çº§ Streamlit
- æ·»åŠ ç‰ˆæœ¬æ£€æŸ¥ä»£ç 

---

## 6. å®æ–½æ£€æŸ¥æ¸…å•

### 6.1 æ›¿æ¢å‰æ£€æŸ¥

- [ ] ç¡®è®¤ Streamlit ç‰ˆæœ¬ >= 1.28.0
- [ ] å¤‡ä»½å½“å‰ä»£ç 
- [ ] åˆ›å»ºåŠŸèƒ½æµ‹è¯•ç”¨ä¾‹
- [ ] è®°å½•å½“å‰ UI æˆªå›¾ï¼ˆç”¨äºå¯¹æ¯”ï¼‰

### 6.2 æ›¿æ¢åéªŒè¯

- [ ] æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] UI æ ·å¼å¯æ¥å—
- [ ] æ€§èƒ½æ— é€€åŒ–
- [ ] ä»£ç è¡Œæ•°å‡å°‘
- [ ] æ—  JavaScript é”™è¯¯
- [ ] å“åº”å¼å¸ƒå±€æ­£å¸¸

### 6.3 ä»£ç è´¨é‡æ£€æŸ¥

- [ ] ç§»é™¤æ‰€æœ‰ä¸å¿…è¦çš„ `unsafe_allow_html`
- [ ] ç§»é™¤æ‰€æœ‰è‡ªå®šä¹‰ JavaScriptï¼ˆå¦‚å¯èƒ½ï¼‰
- [ ] ç®€åŒ– CSSï¼ˆä¿ç•™å¿…è¦éƒ¨åˆ†ï¼‰
- [ ] ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
- [ ] æ·»åŠ å¿…è¦çš„æ³¨é‡Š

---

## 7. é¢„æœŸæ”¶ç›Šæ€»ç»“

### 7.1 ä»£ç é‡å‡å°‘

| ç»„ä»¶ | å½“å‰è¡Œæ•° | é¢„è®¡è¡Œæ•° | å‡å°‘è¡Œæ•° | å‡å°‘æ¯”ä¾‹ |
|------|---------|---------|---------|---------|
| `chat_input.py` | 307 | 20 | 287 | 93% |
| `sources_panel.py` | 94 | 60 | 34 | 36% |
| `quick_start.py` | 62 | 45 | 17 | 27% |
| `sidebar.py` | 110 | 40 | 70 | 64% |
| **æ€»è®¡** | **573** | **165** | **408** | **71%** |

### 7.2 å¤æ‚åº¦é™ä½

- âœ… ç§»é™¤ JavaScript ä»£ç ï¼š~150 è¡Œ
- âœ… ç§»é™¤è‡ªå®šä¹‰ CSSï¼š~200 è¡Œï¼ˆéƒ¨åˆ†ï¼‰
- âœ… ç§»é™¤ `unsafe_allow_html`ï¼š~20 å¤„
- âœ… æé«˜å¯ç»´æŠ¤æ€§ï¼šä½¿ç”¨åŸç”Ÿç»„ä»¶ï¼Œæ›´æ˜“ç†è§£

### 7.3 æ€§èƒ½æå‡

- âœ… å‡å°‘ DOM æ“ä½œï¼ˆç§»é™¤ JavaScriptï¼‰
- âœ… å‡å°‘ CSS è®¡ç®—ï¼ˆä½¿ç”¨åŸç”Ÿæ ·å¼ï¼‰
- âœ… æé«˜æ¸²æŸ“æ€§èƒ½ï¼ˆåŸç”Ÿç»„ä»¶ä¼˜åŒ–æ›´å¥½ï¼‰

---

## 8. å‚è€ƒèµ„æ–™

- [Streamlit API å‚è€ƒ](https://docs.streamlit.io/develop/api-reference)
- [Streamlit èŠå¤©ç»„ä»¶æ–‡æ¡£](https://docs.streamlit.io/develop/api-reference/chat/st.chat_input)
- [Streamlit ä¸»é¢˜é…ç½®](https://docs.streamlit.io/develop/api-reference/configuration/config.toml)

---

## 9. ç‰ˆæœ¬ä¿¡æ¯

- **åˆ›å»ºæ—¥æœŸ**: 2026-01-03
- **ç‰ˆæœ¬**: v1.0
- **æœ€åæ›´æ–°**: 2026-01-03

