# é¡¹ç›®ç»“æ„è¯´æ˜

> å¿«é€Ÿç†è§£ç›®å½•ç»„ç»‡

## ğŸ“ é¡¹ç›®ç»“æ„æ ‘

```
Creating-Systematology-RAG/
â”‚
â”œâ”€â”€ app.py                          # ğŸ–¥ï¸ Streamlit Webä¸»é¡µï¼ˆèŠå¤©ç•Œé¢ï¼‰
â”œâ”€â”€ main.py                         # âŒ¨ï¸ CLIå‘½ä»¤è¡Œå·¥å…·
â”œâ”€â”€ pages/                          # ğŸ“„ Streamlitå¤šé¡µé¢
â”‚   â”œâ”€â”€ 1_âš™ï¸_è®¾ç½®.py               # æ•°æ®æºã€é…ç½®ã€è°ƒè¯•å·¥å…·
â”‚   â””â”€â”€ 2_ğŸ“„_æ–‡ä»¶æŸ¥çœ‹.py           # æ–‡ä»¶æµè§ˆ
â”‚
â”œâ”€â”€ src/                           # ğŸ’» æºä»£ç ï¼ˆæ ¸å¿ƒä¸šåŠ¡ï¼‰
â”‚   â”œâ”€â”€ config.py                  # âš™ï¸ é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ logger.py                  # ğŸ“‹ æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ ui_components.py           # ğŸ¨ UIå…±ç”¨ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ data_loader.py             # ğŸ“¥ æ•°æ®åŠ è½½
â”‚   â”œâ”€â”€ git_repository_manager.py  # ğŸ”„ GitHubä»“åº“ç®¡ç†
â”‚   â”œâ”€â”€ indexer.py                 # ğŸ—‚ï¸ ç´¢å¼•æ„å»º
â”‚   â”œâ”€â”€ query_engine.py            # ğŸ” æŸ¥è¯¢å¼•æ“
â”‚   â”œâ”€â”€ chat_manager.py            # ğŸ’¬ å¯¹è¯ç®¡ç†
â”‚   â”œâ”€â”€ modular_query_engine.py    # ğŸ”§ æ¨¡å—åŒ–æŸ¥è¯¢å¼•æ“
â”‚   â”‚
â”‚   â”œâ”€â”€ user_manager.py            # ğŸ‘¤ ç”¨æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ activity_logger.py         # ğŸ“Š è¡Œä¸ºæ—¥å¿—
â”‚   â”œâ”€â”€ phoenix_utils.py           # ğŸ” Phoenixå¯è§‚æµ‹æ€§
â”‚   â”œâ”€â”€ metadata_manager.py        # ğŸ“ å…ƒæ•°æ®ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ embeddings/                # ğŸ“Š Embeddingå¯æ’æ‹”
â”‚   â”‚   â”œâ”€â”€ base.py                    # åŸºç±»
â”‚   â”‚   â”œâ”€â”€ local_embedding.py         # æœ¬åœ°æ¨¡å‹
â”‚   â”‚   â””â”€â”€ api_embedding.py           # APIæ¨¡å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ data_source/               # ğŸ“¦ æ•°æ®æºå¯æ’æ‹”
â”‚   â”‚   â”œâ”€â”€ base.py                    # åŸºç±»
â”‚   â”‚   â”œâ”€â”€ local_source.py            # æœ¬åœ°æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ github_source.py           # GitHubä»“åº“
â”‚   â”‚   â””â”€â”€ web_source.py              # ç½‘é¡µæŠ“å–
â”‚   â”‚
â”‚   â”œâ”€â”€ observers/                 # ğŸ‘ï¸ å¯è§‚æµ‹æ€§
â”‚   â”‚   â”œâ”€â”€ base.py                    # åŸºç±»
â”‚   â”‚   â”œâ”€â”€ llama_debug_observer.py    # LlamaDebug
â”‚   â”‚   â””â”€â”€ phoenix_observer.py        # Phoenix
â”‚   â”‚
â”‚   â”œâ”€â”€ response_formatter/        # ğŸ“ å“åº”æ ¼å¼åŒ–
â”‚   â”‚   â”œâ”€â”€ formatter.py               # ä¸»æ ¼å¼åŒ–å™¨
â”‚   â”‚   â”œâ”€â”€ validator.py               # éªŒè¯å™¨
â”‚   â”‚   â””â”€â”€ templates.py               # æ¨¡æ¿
â”‚   â”‚
â”‚   â””â”€â”€ data_parser/               # ğŸ”§ æ–‡æ¡£è§£æ
â”‚       â””â”€â”€ document_parser.py         # è§£æå™¨
â”‚
â”œâ”€â”€ docs/                          # ğŸ“š æ–‡æ¡£ä¸­å¿ƒ
â”‚   â”œâ”€â”€ README.md                  # æ–‡æ¡£å¯¼èˆª
â”‚   â”œâ”€â”€ ARCHITECTURE.md            # æ¶æ„è®¾è®¡
â”‚   â”œâ”€â”€ API.md                     # APIå‚è€ƒ
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md       # æœ¬æ–‡ä»¶
â”‚   â””â”€â”€ TRACKER.md                 # é¡¹ç›®è¿½è¸ª
â”‚
â”œâ”€â”€ tests/                         # ğŸ§ª æµ‹è¯•å¥—ä»¶
â”‚   â”œâ”€â”€ unit/                      # å•å…ƒæµ‹è¯•ï¼ˆ60+ï¼‰
â”‚   â”œâ”€â”€ integration/               # é›†æˆæµ‹è¯•ï¼ˆ25+ï¼‰
â”‚   â”œâ”€â”€ performance/               # æ€§èƒ½æµ‹è¯•ï¼ˆ13+ï¼‰
â”‚   â””â”€â”€ tools/                     # è¯Šæ–­å·¥å…·
â”‚
â”œâ”€â”€ data/                          # ğŸ“ æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ processed/                 # å¤„ç†åæ•°æ®
â”‚   â””â”€â”€ github_repos/              # GitHubä»“åº“ç¼“å­˜
â”‚
â”œâ”€â”€ vector_store/                  # ğŸ—„ï¸ Chromaå‘é‡åº“
â”œâ”€â”€ sessions/                      # ğŸ’¾ å¯¹è¯ä¼šè¯è®°å½•
â”œâ”€â”€ logs/                          # ğŸ“‹ æ—¥å¿—ç›®å½•
â”œâ”€â”€ agent-task-log/                # ğŸ“ AI Agentä»»åŠ¡è®°å½•
â”‚
â”œâ”€â”€ pyproject.toml                 # ğŸ“¦ ä¾èµ–é…ç½®
â”œâ”€â”€ Makefile                       # ğŸ› ï¸ æ„å»ºè„šæœ¬
â””â”€â”€ README.md                      # ğŸ“– é¡¹ç›®ä¸»æ–‡æ¡£
```

---

## ğŸ“Š æ ¸å¿ƒæ¨¡å—è¯´æ˜

### æºä»£ç æ¨¡å— (src/)

| æ¨¡å— | èŒè´£ | ä¾èµ–å…³ç³» |
|------|------|---------|
| `config.py` | é…ç½®ç®¡ç† | æ— ä¾èµ–ï¼ˆåŸºç¡€æ¨¡å—ï¼‰ |
| `logger.py` | æ—¥å¿—ç³»ç»Ÿ | config |
| `data_loader.py` | æ•°æ®åŠ è½½ | config, logger, git_repository_manager |
| `indexer.py` | ç´¢å¼•æ„å»º | config, data_loader, embeddings, observers |
| `query_engine.py` | æŸ¥è¯¢å¼•æ“ | config, indexer, response_formatter |
| `chat_manager.py` | å¯¹è¯ç®¡ç† | config, query_engine |
| `user_manager.py` | ç”¨æˆ·ç®¡ç† | config, logger |
| `phoenix_utils.py` | å¯è§‚æµ‹æ€§ | logger |

**ä¾èµ–å…³ç³»å›¾:**
```
config.py (åŸºç¡€)
    â†“
logger.py
    â†“
    â”œâ”€â”€ data_loader.py â†’ indexer.py â†’ query_engine.py â†’ chat_manager.py
    â”œâ”€â”€ user_manager.py
    â””â”€â”€ phoenix_utils.py
```

### å¯æ’æ‹”æ¨¡å—

| æ¨¡å— | è¯´æ˜ | å®ç° |
|------|------|------|
| `embeddings/` | å‘é‡åŒ–å¯æ’æ‹” | local (æœ¬åœ°) / api (API) |
| `data_source/` | æ•°æ®æºå¯æ’æ‹” | local / github / web |
| `observers/` | å¯è§‚æµ‹æ€§ | llama_debug / phoenix |
| `response_formatter/` | å“åº”æ ¼å¼åŒ– | æ¨¡å—åŒ–æ ¼å¼åŒ–å™¨ |
| `data_parser/` | æ–‡æ¡£è§£æ | ç»Ÿä¸€è§£ææ¥å£ |

---

## ğŸ¨ UIæ¶æ„

### Streamlitå¤šé¡µé¢åº”ç”¨

**ä¸»é¡µ (app.py)** - èŠå¤©ç•Œé¢
- ç”¨æˆ·ç™»å½•/æ³¨å†Œ
- å¯¹è¯ä¸»ç•Œé¢
- ä¾§è¾¹æ å¿«é€Ÿæ“ä½œ

**è®¾ç½®é¡µ (pages/1_âš™ï¸_è®¾ç½®.py)** - è¯¦ç»†é…ç½®
- Tab1: æ•°æ®æºç®¡ç†
- Tab2: æŸ¥è¯¢é…ç½®
- Tab3: å¼€å‘è€…å·¥å…·
- Tab4: ç³»ç»ŸçŠ¶æ€

**æ–‡ä»¶æŸ¥çœ‹é¡µ (pages/2_ğŸ“„_æ–‡ä»¶æŸ¥çœ‹.py)** - æ–‡ä»¶æµè§ˆ
- æ–‡æ¡£åˆ—è¡¨æŸ¥çœ‹
- å…ƒæ•°æ®æŸ¥çœ‹
- æ–‡ä»¶æœç´¢

### UIç»„ä»¶å¤ç”¨ (src/ui_components.py)

æå–çš„å…±ç”¨å‡½æ•°:
- `init_session_state()` - ä¼šè¯çŠ¶æ€åˆå§‹åŒ–
- `load_index()` - ç´¢å¼•åŠ è½½
- `load_chat_manager()` - å¯¹è¯ç®¡ç†å™¨åŠ è½½
- `display_model_status()` - æ¨¡å‹çŠ¶æ€å±•ç¤º

---

## ğŸ“‚ ç›®å½•èŒè´£

| ç›®å½• | èŒè´£ | æ˜¯å¦å¿…éœ€ |
|------|------|---------|
| `src/` | æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ | âœ… å¿…éœ€ |
| `docs/` | é¡¹ç›®æ–‡æ¡£ | âœ… å¿…éœ€ |
| `tests/` | æµ‹è¯•å¥—ä»¶ | âœ… å¿…éœ€ |
| `data/` | æ•°æ®å­˜å‚¨ | âœ… å¿…éœ€ |
| `vector_store/` | å‘é‡åº“ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰ | è¿è¡Œæ—¶ç”Ÿæˆ |
| `sessions/` | ä¼šè¯è®°å½•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰ | è¿è¡Œæ—¶ç”Ÿæˆ |
| `logs/` | æ—¥å¿—ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰ | è¿è¡Œæ—¶ç”Ÿæˆ |
| `agent-task-log/` | AIä»»åŠ¡è®°å½• | æ¨èä¿ç•™ |

---

## ğŸ” å¿«é€ŸæŸ¥æ‰¾

### æˆ‘æƒ³ä¿®æ”¹...

| éœ€æ±‚ | æ–‡ä»¶ä½ç½® |
|------|---------|
| **é…ç½®å‚æ•°** | `src/config.py` æˆ– `.env` |
| **æ·»åŠ æ•°æ®æº** | `src/data_source/` |
| **ä¿®æ”¹ç´¢å¼•é€»è¾‘** | `src/indexer.py` |
| **è°ƒæ•´æŸ¥è¯¢è¡Œä¸º** | `src/query_engine.py` |
| **æ”¹è¿›å¯¹è¯åŠŸèƒ½** | `src/chat_manager.py` |
| **ä¿®æ”¹ä¸»é¡µç•Œé¢** | `app.py` |
| **ä¿®æ”¹è®¾ç½®é¡µ** | `pages/1_âš™ï¸_è®¾ç½®.py` |
| **ä¿®æ”¹UIç»„ä»¶** | `src/ui_components.py` |

### æˆ‘æƒ³æŸ¥çœ‹...

| éœ€æ±‚ | æ–‡ä»¶ä½ç½® |
|------|---------|
| **å¦‚ä½•ä½¿ç”¨** | `README.md` |
| **ç³»ç»Ÿæ¶æ„** | `docs/ARCHITECTURE.md` |
| **APIæ¥å£** | `docs/API.md` |
| **é¡¹ç›®è¿½è¸ª** | `docs/TRACKER.md` |
| **æµ‹è¯•æŒ‡å—** | `tests/README.md` |

---

## ğŸ“ æ–‡ä»¶ç»Ÿè®¡

### ä»£ç æ–‡ä»¶

| ç±»å‹ | æ•°é‡ | æ€»è¡Œæ•°ï¼ˆçº¦ï¼‰ |
|------|------|-------------|
| Pythonæºç  | 20+ | 3,500+ |
| Pythonåº”ç”¨ | 3 | 800+ |
| é…ç½®æ–‡ä»¶ | 3 | 150+ |

### æ–‡æ¡£æ–‡ä»¶

| ç±»å‹ | æ•°é‡ | æ€»è¡Œæ•° |
|------|------|--------|
| æ ¸å¿ƒæ–‡æ¡£ | 5 | ~1,500 |
| Agentè®°å½• | 100+ | - |

### æµ‹è¯•æ–‡ä»¶

| ç±»å‹ | æ•°é‡ |
|------|------|
| æµ‹è¯•ç”¨ä¾‹ | 88+ |
| æµ‹è¯•è¦†ç›–ç‡ | ~92% |

---

## ğŸš« è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶/ç›®å½•

ä»¥ä¸‹å†…å®¹è¿è¡Œæ—¶è‡ªåŠ¨åˆ›å»ºï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†:

| è·¯å¾„ | ç”Ÿæˆæ—¶æœº |
|------|---------|
| `.env` | ç”¨æˆ·é¦–æ¬¡é…ç½® |
| `vector_store/` | é¦–æ¬¡æ„å»ºç´¢å¼• |
| `sessions/` | é¦–æ¬¡ä¿å­˜ä¼šè¯ |
| `logs/` | åº”ç”¨å¯åŠ¨æ—¶ |
| `__pycache__/` | è¿è¡ŒPythonæ—¶ |
| `.venv/` | åˆ›å»ºè™šæ‹Ÿç¯å¢ƒæ—¶ |

---

## ğŸ¯ è®¾è®¡åŸåˆ™

1. **å…³æ³¨ç‚¹åˆ†ç¦»** - æºç ã€åº”ç”¨ã€æ–‡æ¡£ã€æ•°æ®åˆ†ç¦»
2. **æ¨¡å—åŒ–** - æ¯ä¸ªæ¨¡å—èŒè´£å•ä¸€ï¼Œä¾èµ–æ¸…æ™°
3. **å¯æ‰©å±•æ€§** - æ˜“äºæ·»åŠ æ–°æ¨¡å—å’ŒåŠŸèƒ½
4. **çº¦å®šä¼˜äºé…ç½®** - éµå¾ªæ ‡å‡†ç›®å½•çº¦å®š

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

- [README.md](../README.md) - é¡¹ç›®æ¦‚è§ˆ
- [æ¶æ„è®¾è®¡](ARCHITECTURE.md) - ç³»ç»Ÿæ¶æ„è¯¦è§£
- [APIå‚è€ƒ](API.md) - æ¥å£æ–‡æ¡£
- [æ–‡æ¡£ä¸­å¿ƒ](README.md) - æ–‡æ¡£å¯¼èˆª

---

**æœ€åæ›´æ–°**: 2025-11-01
