# README 文档分层优化 - 实施计划

> 创建时间：2026-01-24

---

## Checkpoint 状态表

| CP | 内容 | 状态 | 完成日期 |
|----|------|------|----------|
| CP1 | 创建 docs/ 目录，迁移架构内容 | ✅ | 2026-01-24 |
| CP2 | 迁移缓存机制和高级配置 | ✅ | 2026-01-24 |
| CP3 | 精简 README，建立文档导航 | ✅ | 2026-01-24 |
| CP4 | 验收检查 | ✅ | 2026-01-24 |

---

## 1. 背景与目标

### 1.1 背景

当前 README.md 存在以下问题：
- 文档过长（约 800+ 行），新用户难以快速上手
- 内容冗余：引用的 `docs/` 目录不存在；4.1/4.2/4.3 与前文有重叠
- 分层不清：快速开始混入高级配置；架构章节过于详细
- 目标受众混杂：新手、开发者、架构师内容混在一起

### 1.2 目标

- 精简 README 为 150-200 行的项目入口文档
- 创建 `docs/` 目录，分层承载详细内容
- 提升新用户上手体验（3 分钟能跑起来）
- 修复 `docs/` 引用悬空问题

---

## 2. 决策记录

### 决策点 A：docs/ 目录命名风格

**决策**：kebab-case（如 `quick-start-advanced.md`）

**理由**：与项目现有风格（aha-moments）一致

### 决策点 B：工作流程图处理

**决策**：README 保留简化版架构图，详细流程迁移到 `docs/architecture.md`

**理由**：README 聚焦概览，详细内容按需查阅

### 决策点 C：4.1/4.2/4.3 内容处理

**决策**：去重后合并到 `docs/architecture.md`

**理由**：这些内容本质上都是架构相关，合并便于统一维护

---

## 3. 实施步骤

### CP1：创建 docs/ 目录，迁移架构内容

**任务**：
1. 创建 `docs/` 目录
2. 创建 `docs/architecture.md`，迁移以下内容：
   - README §4 架构设计的详细流程图（[阶段1]-[阶段4]）
   - README §4.1 项目上下文理解
   - README §4.2 模块交互关系
   - README §4.3 架构决策记录
   - README 已实现模块统计

**验收标准**：
- [ ] `docs/architecture.md` 创建完成
- [ ] 内容完整，无遗漏
- [ ] 内部链接有效

---

### CP2：迁移缓存机制和高级配置

**任务**：
1. 创建 `docs/cache-system.md`，迁移 README §5 缓存机制
2. 创建 `docs/quick-start-advanced.md`，迁移以下内容：
   - GPU 配置说明
   - Windows 特殊处理
   - Chroma Cloud 详细配置
   - 配置系统详细说明

**验收标准**：
- [ ] `docs/cache-system.md` 创建完成
- [ ] `docs/quick-start-advanced.md` 创建完成
- [ ] 内容完整，无遗漏

---

### CP3：精简 README，建立文档导航

**任务**：
1. 精简 README 为以下结构（约 150-200 行）：
   - 项目简介 + 核心特性
   - 快速开始（最小 4 步）
   - 技术栈（保持简洁列表）
   - 架构概览（一张图 + 链接）
   - 文档导航（链接到 docs/）
   - 致谢 + License
2. 删除已迁移的详细内容
3. 更新所有文档链接

**验收标准**：
- [ ] README 行数 ≤ 200 行
- [ ] 快速开始步骤 ≤ 5 步
- [ ] 所有链接指向正确位置

---

### CP4：验收检查

**任务**：
1. 检查所有文档链接有效性
2. 检查内容完整性（无遗漏、无重复）
3. 阅读体验测试（新用户视角）

**验收标准**：
- [ ] 所有链接有效
- [ ] 无内容遗漏
- [ ] 新用户能在 5 分钟内完成快速开始

---

## 4. 文件改动清单

### 新增文件

| 文件 | 说明 |
|------|------|
| `docs/architecture.md` | 完整架构设计文档 |
| `docs/cache-system.md` | 缓存机制详解 |
| `docs/quick-start-advanced.md` | 高级配置指南 |

### 修改文件

| 文件 | 说明 |
|------|------|
| `README.md` | 精简为项目入口文档 |

---

## 5. 风险与注意事项

- **内容遗漏**：迁移时需仔细核对，确保无遗漏
- **链接失效**：迁移后需检查所有内部链接
- **目录结构**：README 中的目录结构树较大，需精简或考虑移动
