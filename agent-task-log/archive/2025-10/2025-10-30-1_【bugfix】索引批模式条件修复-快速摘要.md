# 2025-10-30 【bugfix】索引批模式条件修复 - 快速摘要

**【Task Type】**: bugfix
- 变更文件: `src/indexer.py`
- 变更内容: 将硬编码的 `if True:` 改为 `if config.INDEX_BATCH_MODE:`，恢复后续 `elif/else` 分支的可达性，允许根据配置切换批处理与非批处理两种索引构建路径。
- 相关配置: 在 `src/config.py` 中新增的 `INDEX_BATCH_MODE` 等参数已存在，默认关闭批模式；通过环境变量 `INDEX_BATCH_MODE=true` 可启用批处理。
- 影响范围: 
  - 默认行为从“强制批模式”改为“按配置选择”（默认非批）；
  - 不再出现因 `if True` 导致的死代码，非批模式逻辑可正常执行。
- 验证: 本次仅做最小化代码变更，运行静态检查未发现新问题。后续可通过设置 `INDEX_BATCH_MODE=true` 验证批模式日志输出是否如期出现。


