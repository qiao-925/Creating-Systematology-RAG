# Cursor断点调试依赖安装 - 快速摘要

**任务日期**: 2025-11-01  
**任务编号**: 1  
**任务类型**: 开发环境配置

## 📋 任务概述

为项目安装Cursor断点调试所需的依赖包（debugpy），并配置VS Code调试环境。

## ✅ 完成内容

### 1. 依赖配置
- 在 `pyproject.toml` 中添加 `debugpy>=1.8.0` 到开发依赖组（`[project.optional-dependencies]` -> `dev`）

### 2. 调试配置
- 创建 `.vscode/launch.json` 调试配置文件
- 配置了4个调试场景：
  1. **Python: Streamlit App (app.py)** - 调试Web应用主入口
  2. **Python: CLI Tool (main.py)** - 调试命令行工具
  3. **Python: Current File** - 调试当前打开的文件
  4. **Python: Pytest** - 调试测试用例

### 3. 依赖安装
- 通过 `pip` 安装了 `debugpy` 1.8.17 版本
- 验证安装成功，可以正常导入使用

## 📝 修改文件

1. `pyproject.toml` - 添加debugpy到dev依赖组
2. `.vscode/launch.json` - 新建调试配置文件（包含4个调试配置）

## 🎯 使用说明

### 调试配置说明

在Cursor/VS Code中，可以通过以下方式使用断点调试：

1. **F5** 或点击调试面板 → 选择调试配置 → 开始调试
2. 在代码中设置断点（点击行号左侧）
3. 选择对应的调试配置：
   - **Streamlit App**: 调试 `app.py` Web应用
   - **CLI Tool**: 调试 `main.py` 命令行工具，可在配置中修改 `args` 参数
   - **Current File**: 调试当前打开的文件
   - **Pytest**: 调试测试用例

### 注意事项

- 所有配置都设置了 `PYTHONIOENCODING=utf-8` 环境变量，确保输出编码正确
- `justMyCode` 设置为 `true`（Pytest为`false`），只调试用户代码，跳过库代码
- 如果需要使用项目的uv虚拟环境，可能需要调整Python解释器路径

## 📌 后续建议

1. 如果项目使用uv虚拟环境，建议通过 `uv sync --extra dev` 安装debugpy到项目环境
2. 可以根据实际需要调整调试配置的参数和环境变量
3. 如需调试远程代码，可以配置远程调试相关设置
